import{u as e,T as t,S as n,f as r,F as s,c as a,a as c,b as l,C as o}from"./iconUtil-d37a19c0.js";import{r as i,af as d,y as f,b0 as u,aS as p,cn as h,ci as m,w as b,b6 as y}from"./index-a09fe141.js";const g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};var x=function(e,t){return i.createElement(d,f({},e,{ref:t,icon:g}))};
/**![folder-open](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTkyOCA0NDRIODIwVjMzMC40YzAtMTcuNy0xNC4zLTMyLTMyLTMySDQ3M0wzNTUuNyAxODYuMmE4LjE1IDguMTUgMCAwMC01LjUtMi4ySDk2Yy0xNy43IDAtMzIgMTQuMy0zMiAzMnY1OTJjMCAxNy43IDE0LjMgMzIgMzIgMzJoNjk4YzEzIDAgMjQuOC03LjkgMjkuNy0yMGwxMzQtMzMyYzEuNS0zLjggMi4zLTcuOSAyLjMtMTIgMC0xNy43LTE0LjMtMzItMzItMzJ6TTEzNiAyNTZoMTg4LjVsMTE5LjYgMTE0LjRINzQ4VjQ0NEgyMzhjLTEzIDAtMjQuOCA3LjktMjkuNyAyMEwxMzYgNjQzLjJWMjU2em02MzUuMyA1MTJIMTU5bDEwMy4zLTI1Nmg2MTIuNEw3NzEuMyA3Njh6IiAvPjwvc3ZnPg==) */const v=i.forwardRef(x);const w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};var E=function(e,t){return i.createElement(d,f({},e,{ref:t,icon:w}))};
/**![folder](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTg4MCAyOTguNEg1MjFMNDAzLjcgMTg2LjJhOC4xNSA4LjE1IDAgMDAtNS41LTIuMkgxNDRjLTE3LjcgMC0zMiAxNC4zLTMyIDMydjU5MmMwIDE3LjcgMTQuMyAzMiAzMiAzMmg3MzZjMTcuNyAwIDMyLTE0LjMgMzItMzJWMzMwLjRjMC0xNy43LTE0LjMtMzItMzItMzJ6TTg0MCA3NjhIMTg0VjI1NmgxODguNWwxMTkuNiAxMTQuNEg4NDBWNzY4eiIgLz48L3N2Zz4=) */const K=i.forwardRef(E);const O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"};var j=function(e,t){return i.createElement(d,f({},e,{ref:t,icon:O}))};
/**![holder](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTMwMCAyNzYuNWE1NiA1NiAwIDEwNTYtOTcgNTYgNTYgMCAwMC01NiA5N3ptMCAyODRhNTYgNTYgMCAxMDU2LTk3IDU2IDU2IDAgMDAtNTYgOTd6TTY0MCAyMjhhNTYgNTYgMCAxMDExMiAwIDU2IDU2IDAgMDAtMTEyIDB6bTAgMjg0YTU2IDU2IDAgMTAxMTIgMCA1NiA1NiAwIDAwLTExMiAwek0zMDAgODQ0LjVhNTYgNTYgMCAxMDU2LTk3IDU2IDU2IDAgMDAtNTYgOTd6TTY0MCA3OTZhNTYgNTYgMCAxMDExMiAwIDU2IDU2IDAgMDAtMTEyIDB6IiAvPjwvc3ZnPg==) */const N=i.forwardRef(j);function k(e){const{dropPosition:t,dropLevelOffset:n,prefixCls:r,indent:s,direction:a="ltr"}=e,c="ltr"===a?"left":"right",l="ltr"===a?"right":"left",o={[c]:-n*s+4,[l]:0};switch(t){case-1:o.top=-3;break;case 1:o.bottom=-3;break;default:o.bottom=-3,o[c]=s+4}return u.createElement("div",{style:o,className:`${r}-drop-indicator`})}const H=u.forwardRef(((r,s)=>{var a;const{getPrefixCls:c,direction:l,virtual:o,tree:i}=u.useContext(p),{prefixCls:d,className:f,showIcon:y=!1,showLine:g,switcherIcon:x,switcherLoadingIcon:v,blockNode:w=!1,children:E,checkable:K=!1,selectable:O=!0,draggable:j,motion:H,style:C}=r,I=c("tree",d),S=c(),z=null!=H?H:Object.assign(Object.assign({},h(S)),{motionAppear:!1}),L=Object.assign(Object.assign({},r),{checkable:K,selectable:O,showIcon:y,motion:z,blockNode:w,showLine:Boolean(g),dropIndicatorRender:k}),[M,P,R]=e(I),[,$]=m(),A=$.paddingXS/2+((null===(a=$.Tree)||void 0===a?void 0:a.titleHeight)||$.controlHeightSM),T=u.useMemo((()=>{if(!j)return!1;let e={};switch(typeof j){case"function":e.nodeDraggable=j;break;case"object":e=Object.assign({},j)}return!1!==e.icon&&(e.icon=e.icon||u.createElement(N,null)),e}),[j]);return M(u.createElement(t,Object.assign({itemHeight:A,ref:s,virtual:o},L,{style:Object.assign(Object.assign({},null==i?void 0:i.style),C),prefixCls:I,className:b({[`${I}-icon-hide`]:!y,[`${I}-block-node`]:w,[`${I}-unselectable`]:!O,[`${I}-rtl`]:"rtl"===l},null==i?void 0:i.className,f,P,R),direction:l,checkable:K?u.createElement("span",{className:`${I}-checkbox-inner`}):K,selectable:O,switcherIcon:e=>u.createElement(n,{prefixCls:I,switcherIcon:x,switcherLoadingIcon:v,treeNodeProps:e,showLine:g}),draggable:T}),E))}));function C(e,t,n){const{key:r,children:s}=n;e.forEach((function(e){const a=e[r],c=e[s];!1!==t(a,e)&&C(c||[],t,n)}))}function I(e){let{treeData:t,expandedKeys:n,startKey:s,endKey:a,fieldNames:c}=e;const l=[];let o=0;if(s&&s===a)return[s];if(!s||!a)return[];return C(t,(e=>{if(2===o)return!1;if(function(e){return e===s||e===a}(e)){if(l.push(e),0===o)o=1;else if(1===o)return o=2,!1}else 1===o&&l.push(e);return n.includes(e)}),r(c)),l}function S(e,t,n){const s=y(t),a=[];return C(e,((e,t)=>{const n=s.indexOf(e);return-1!==n&&(a.push(t),s.splice(n,1)),!!s.length}),r(n)),a}var z=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};function L(e){const{isLeaf:t,expanded:n}=e;return t?i.createElement(s,null):n?i.createElement(v,null):i.createElement(K,null)}function M(e){let{treeData:t,children:n}=e;return t||l(n)}const P=(e,t)=>{var{defaultExpandAll:n,defaultExpandParent:r,defaultExpandedKeys:s}=e,l=z(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const o=i.useRef(),d=i.useRef(),[f,u]=i.useState(l.selectedKeys||l.defaultSelectedKeys||[]),[h,m]=i.useState((()=>(()=>{const{keyEntities:e}=a(M(l));let t;return t=n?Object.keys(e):r?c(l.expandedKeys||s||[],e):l.expandedKeys||s||[],t})()));i.useEffect((()=>{"selectedKeys"in l&&u(l.selectedKeys)}),[l.selectedKeys]),i.useEffect((()=>{"expandedKeys"in l&&m(l.expandedKeys)}),[l.expandedKeys]);const{getPrefixCls:g,direction:x}=i.useContext(p),{prefixCls:v,className:w,showIcon:E=!0,expandAction:K="click"}=l,O=z(l,["prefixCls","className","showIcon","expandAction"]),j=g("tree",v),N=b(`${j}-directory`,{[`${j}-directory-rtl`]:"rtl"===x},w);return i.createElement(H,Object.assign({icon:L,ref:t,blockNode:!0},O,{showIcon:E,expandAction:K,prefixCls:j,className:N,expandedKeys:h,selectedKeys:f,onSelect:(e,t)=>{var n;const{multiple:r,fieldNames:s}=l,{node:a,nativeEvent:c}=t,{key:i=""}=a,f=M(l),p=Object.assign(Object.assign({},t),{selected:!0}),m=(null==c?void 0:c.ctrlKey)||(null==c?void 0:c.metaKey),b=null==c?void 0:c.shiftKey;let g;r&&m?(g=e,o.current=i,d.current=g,p.selectedNodes=S(f,g,s)):r&&b?(g=Array.from(new Set([].concat(y(d.current||[]),y(I({treeData:f,expandedKeys:h,startKey:i,endKey:o.current,fieldNames:s}))))),p.selectedNodes=S(f,g,s)):(g=[i],o.current=i,d.current=g,p.selectedNodes=S(f,g,s)),null===(n=l.onSelect)||void 0===n||n.call(l,g,p),"selectedKeys"in l||u(g)},onExpand:(e,t)=>{var n;return"expandedKeys"in l||m(e),null===(n=l.onExpand)||void 0===n?void 0:n.call(l,e,t)}}))},R=i.forwardRef(P),$=H;$.DirectoryTree=R,$.TreeNode=o;const A=$;export{A as T};
