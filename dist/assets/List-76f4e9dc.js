import{r as e,z as t,x as n,bJ as r,y as o,w as i,v as u,ck as a,bT as c,cf as l,cg as s,cD as f,cE as v,_ as d,bV as h,cF as g}from"./index-a09fe141.js";var m=e.forwardRef((function(u,a){var c=u.height,l=u.offsetY,s=u.offsetX,f=u.children,v=u.prefixCls,d=u.onInnerResize,h=u.innerProps,g=u.rtl,m=u.extra,p={},M={display:"flex",flexDirection:"column"};return void 0!==l&&(p={height:c,position:"relative",overflow:"hidden"},M=t(t({},M),{},n(n(n(n(n({transform:"translateY(".concat(l,"px)")},g?"marginRight":"marginLeft",-s),"position","absolute"),"left",0),"right",0),"top",0))),e.createElement("div",{style:p},e.createElement(r,{onResize:function(e){e.offsetHeight&&d&&d()}},e.createElement("div",o({style:M,className:i(n({},"".concat(v,"-holder-inner"),v)),ref:a},h),f,m)))}));function p(t){var n=t.children,r=t.setRef,o=e.useCallback((function(e){r(e)}),[]);return e.cloneElement(n,{ref:o})}function M(t,n,r){var o=e.useState(t),i=u(o,2),a=i[0],c=i[1],l=e.useState(null),s=u(l,2),f=s[0],v=s[1];return e.useEffect((function(){var e=function(e,t,n){var r,o,i=e.length,u=t.length;if(0===i&&0===u)return null;i<u?(r=e,o=t):(r=t,o=e);var a={__EMPTY_ITEM__:!0};function c(e){return void 0!==e?n(e):a}for(var l=null,s=1!==Math.abs(i-u),f=0;f<o.length;f+=1){var v=c(r[f]);if(v!==c(o[f])){l=f,s=s||v!==c(o[f+1]);break}}return null===l?null:{index:l,multiple:s}}(a||[],t||[],n);void 0!==(null==e?void 0:e.index)&&(null==r||r(e.index),v(t[e.index])),c(t)}),[t]),[f]}m.displayName="Filler";var b="object"===("undefined"==typeof navigator?"undefined":a(navigator))&&/Firefox/i.test(navigator.userAgent);const R=function(t,n,r,o){var i=e.useRef(!1),u=e.useRef(null);var a=e.useRef({top:t,bottom:n,left:r,right:o});return a.current.top=t,a.current.bottom=n,a.current.left=r,a.current.right=o,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e?t<0&&a.current.left||t>0&&a.current.right:t<0&&a.current.top||t>0&&a.current.bottom;return n&&r?(clearTimeout(u.current),i.current=!1):r&&!i.current||(clearTimeout(u.current),i.current=!0,u.current=setTimeout((function(){i.current=!1}),50)),!i.current&&r}};function E(t,n,r,o,i,u,a){var l=e.useRef(0),s=e.useRef(null),f=e.useRef(null),v=e.useRef(!1),d=R(n,r,o,i);var h=e.useRef(null),g=e.useRef(null);return[function(e){if(t){c.cancel(g.current),g.current=c((function(){h.current=null}),2);var n=e.deltaX,r=e.deltaY,o=e.shiftKey,i=n,m=r;("sx"===h.current||!h.current&&o&&r&&!n)&&(i=r,m=0,h.current="sx");var p=Math.abs(i),M=Math.abs(m);null===h.current&&(h.current=u&&p>M?"x":"y"),"y"===h.current?function(e,t){c.cancel(s.current),l.current+=t,f.current=t,d(!1,t)||(b||e.preventDefault(),s.current=c((function(){var e=v.current?10:1;a(l.current*e),l.current=0})))}(e,m):function(e,t){a(t,!0),b||e.preventDefault()}(e,i)}},function(e){t&&(v.current=e.detail===f.current)}]}var S=function(){function e(){s(this,e),n(this,"maps",void 0),n(this,"id",0),this.maps=Object.create(null)}return l(e,[{key:"set",value:function(e,t){this.maps[e]=t,this.id+=1}},{key:"get",value:function(e){return this.maps[e]}}]),e}();var w=14/15;var y=10;function x(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]}var L=e.forwardRef((function(r,o){var a=r.prefixCls,l=r.rtl,s=r.scrollOffset,f=r.scrollRange,v=r.onStartMove,d=r.onStopMove,h=r.onScroll,g=r.horizontal,m=r.spinSize,p=r.containerSize,M=r.style,b=r.thumbStyle,R=e.useState(!1),E=u(R,2),S=E[0],w=E[1],y=e.useState(null),L=u(y,2),T=L[0],H=L[1],z=e.useState(null),Y=u(z,2),k=Y[0],D=Y[1],N=!l,C=e.useRef(),I=e.useRef(),P=e.useState(!1),X=u(P,2),O=X[0],j=X[1],A=e.useRef(),_=function(){clearTimeout(A.current),j(!0),A.current=setTimeout((function(){j(!1)}),3e3)},B=f-p||0,K=p-m||0,V=e.useMemo((function(){return 0===s||0===B?0:s/B*K}),[s,B,K]),W=e.useRef({top:V,dragging:S,pageY:T,startTop:k});W.current={top:V,dragging:S,pageY:T,startTop:k};var F=function(e){w(!0),H(x(e,g)),D(W.current.top),v(),e.stopPropagation(),e.preventDefault()};e.useEffect((function(){var e=function(e){e.preventDefault()},t=C.current,n=I.current;return t.addEventListener("touchstart",e,{passive:!1}),n.addEventListener("touchstart",F,{passive:!1}),function(){t.removeEventListener("touchstart",e),n.removeEventListener("touchstart",F)}}),[]);var J=e.useRef();J.current=B;var q=e.useRef();q.current=K,e.useEffect((function(){if(S){var e,t=function(t){var n=W.current,r=n.dragging,o=n.pageY,i=n.startTop;c.cancel(e);var u=C.current.getBoundingClientRect(),a=p/(g?u.width:u.height);if(r){var l=(x(t,g)-o)*a,s=i;!N&&g?s-=l:s+=l;var f=J.current,v=q.current,d=v?s/v:0,m=Math.ceil(d*f);m=Math.max(m,0),m=Math.min(m,f),e=c((function(){h(m,g)}))}},n=function(){w(!1),d()};return window.addEventListener("mousemove",t,{passive:!0}),window.addEventListener("touchmove",t,{passive:!0}),window.addEventListener("mouseup",n,{passive:!0}),window.addEventListener("touchend",n,{passive:!0}),function(){window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),c.cancel(e)}}}),[S]),e.useEffect((function(){return _(),function(){clearTimeout(A.current)}}),[s]),e.useImperativeHandle(o,(function(){return{delayHidden:_}}));var G="".concat(a,"-scrollbar"),Q={position:"absolute",visibility:O?null:"hidden"},U={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return g?(Q.height=8,Q.left=0,Q.right=0,Q.bottom=0,U.height="100%",U.width=m,N?U.left=V:U.right=V):(Q.width=8,Q.top=0,Q.bottom=0,N?Q.right=0:Q.left=0,U.width="100%",U.height=m,U.top=V),e.createElement("div",{ref:C,className:i(G,n(n(n({},"".concat(G,"-horizontal"),g),"".concat(G,"-vertical"),!g),"".concat(G,"-visible"),O)),style:t(t({},Q),M),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:_},e.createElement("div",{ref:I,className:i("".concat(G,"-thumb"),n({},"".concat(G,"-thumb-moving"),S)),style:t(t({},U),b),onMouseDown:F}))})),T=20;function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)*e;return isNaN(t)&&(t=0),t=Math.max(t,T),Math.floor(t)}var z=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],Y=[],k={overflowY:"auto",overflowAnchor:"none"};function D(l,s){var b=l.prefixCls,x=void 0===b?"rc-virtual-list":b,T=l.className,D=l.height,N=l.itemHeight,C=l.fullHeight,I=void 0===C||C,P=l.style,X=l.data,O=l.children,j=l.itemKey,A=l.virtual,_=l.direction,B=l.scrollWidth,K=l.component,V=void 0===K?"div":K,W=l.onScroll,F=l.onVirtualScroll,J=l.onVisibleChange,q=l.innerProps,G=l.extraRender,Q=l.styles,U=d(l,z),Z=e.useCallback((function(e){return"function"==typeof j?j(e):null==e?void 0:e[j]}),[j]),$=function(t,n,r){var o=e.useState(0),i=u(o,2),a=i[0],l=i[1],s=e.useRef(new Map),v=e.useRef(new S),d=e.useRef();function h(){c.cancel(d.current)}function g(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];h();var t=function(){s.current.forEach((function(e,t){if(e&&e.offsetParent){var n=f(e),r=n.offsetHeight;v.current.get(t)!==r&&v.current.set(t,n.offsetHeight)}})),l((function(e){return e+1}))};e?t():d.current=c(t)}return e.useEffect((function(){return h}),[]),[function(e,o){var i=t(e),u=s.current.get(i);o?(s.current.set(i,o),g()):s.current.delete(i),!u!=!o&&(o?null==n||n(e):null==r||r(e))},g,v.current,a]}(Z,null,null),ee=u($,4),te=ee[0],ne=ee[1],re=ee[2],oe=ee[3],ie=!(!1===A||!D||!N),ue=e.useMemo((function(){return Object.values(re.maps).reduce((function(e,t){return e+t}),0)}),[re.id,re.maps]),ae=ie&&X&&(Math.max(N*X.length,ue)>D||!!B),ce="rtl"===_,le=i(x,n({},"".concat(x,"-rtl"),ce),T),se=X||Y,fe=e.useRef(),ve=e.useRef(),de=e.useRef(),he=e.useState(0),ge=u(he,2),me=ge[0],pe=ge[1],Me=e.useState(0),be=u(Me,2),Re=be[0],Ee=be[1],Se=e.useState(!1),we=u(Se,2),ye=we[0],xe=we[1],Le=function(){xe(!0)},Te=function(){xe(!1)},He={getKey:Z};function ze(e){pe((function(t){var n=function(e){var t=e;Number.isNaN(qe.current)||(t=Math.min(t,qe.current));return t=Math.max(t,0),t}("function"==typeof e?e(t):e);return fe.current.scrollTop=n,n}))}var Ye=e.useRef({start:0,end:se.length}),ke=e.useRef(),De=M(se,Z),Ne=u(De,1)[0];ke.current=Ne;var Ce=e.useMemo((function(){if(!ie)return{scrollHeight:void 0,start:0,end:se.length-1,offset:void 0};var e;if(!ae)return{scrollHeight:(null===(e=ve.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:se.length-1,offset:void 0};for(var t,n,r,o=0,i=se.length,u=0;u<i;u+=1){var a=se[u],c=Z(a),l=re.get(c),s=o+(void 0===l?N:l);s>=me&&void 0===t&&(t=u,n=o),s>me+D&&void 0===r&&(r=u),o=s}return void 0===t&&(t=0,n=0,r=Math.ceil(D/N)),void 0===r&&(r=se.length-1),{scrollHeight:o,start:t,end:r=Math.min(r+1,se.length-1),offset:n}}),[ae,ie,me,se,oe,D]),Ie=Ce.scrollHeight,Pe=Ce.start,Xe=Ce.end,Oe=Ce.offset;Ye.current.start=Pe,Ye.current.end=Xe;var je=e.useState({width:0,height:D}),Ae=u(je,2),_e=Ae[0],Be=Ae[1],Ke=e.useRef(),Ve=e.useRef(),We=e.useMemo((function(){return H(_e.width,B)}),[_e.width,B]),Fe=e.useMemo((function(){return H(_e.height,Ie)}),[_e.height,Ie]),Je=Ie-D,qe=e.useRef(Je);qe.current=Je;var Ge=me<=0,Qe=me>=Je,Ue=Re<=0,Ze=Re>=B,$e=R(Ge,Qe,Ue,Ze),et=function(){return{x:ce?-Re:Re,y:me}},tt=e.useRef(et()),nt=h((function(e){if(F){var n=t(t({},et()),e);tt.current.x===n.x&&tt.current.y===n.y||(F(n),tt.current=n)}}));function rt(e,t){var n=e;t?(g.flushSync((function(){Ee(n)})),nt()):ze(n)}var ot=function(e){var t=e,n=B?B-_e.width:0;return t=Math.max(t,0),t=Math.min(t,n)},it=h((function(e,t){t?(g.flushSync((function(){Ee((function(t){return ot(t+(ce?-e:e))}))})),nt()):ze((function(t){return t+e}))})),ut=E(ie,Ge,Qe,Ue,Ze,!!B,it),at=u(ut,2),ct=at[0],lt=at[1];!function(t,n,r){var o,i=e.useRef(!1),u=e.useRef(0),a=e.useRef(0),c=e.useRef(null),l=e.useRef(null),s=function(e){if(i.current){var t=Math.ceil(e.touches[0].pageX),n=Math.ceil(e.touches[0].pageY),o=u.current-t,c=a.current-n,s=Math.abs(o)>Math.abs(c);s?u.current=t:a.current=n,r(s,s?o:c)&&e.preventDefault(),clearInterval(l.current),l.current=setInterval((function(){s?o*=w:c*=w;var e=Math.floor(s?o:c);(!r(s,e,!0)||Math.abs(e)<=.1)&&clearInterval(l.current)}),16)}},f=function(){i.current=!1,o()},d=function(e){o(),1!==e.touches.length||i.current||(i.current=!0,u.current=Math.ceil(e.touches[0].pageX),a.current=Math.ceil(e.touches[0].pageY),c.current=e.target,c.current.addEventListener("touchmove",s,{passive:!1}),c.current.addEventListener("touchend",f,{passive:!0}))};o=function(){c.current&&(c.current.removeEventListener("touchmove",s),c.current.removeEventListener("touchend",f))},v((function(){return t&&n.current.addEventListener("touchstart",d,{passive:!0}),function(){var e;null===(e=n.current)||void 0===e||e.removeEventListener("touchstart",d),o(),clearInterval(l.current)}}),[t])}(ie,fe,(function(e,t,n){return!$e(e,t,n)&&(ct({preventDefault:function(){},deltaX:e?t:0,deltaY:e?0:t}),!0)})),v((function(){function e(e){ie&&e.preventDefault()}var t=fe.current;return t.addEventListener("wheel",ct,{passive:!1}),t.addEventListener("DOMMouseScroll",lt,{passive:!0}),t.addEventListener("MozMousePixelScroll",e,{passive:!1}),function(){t.removeEventListener("wheel",ct),t.removeEventListener("DOMMouseScroll",lt),t.removeEventListener("MozMousePixelScroll",e)}}),[ie]),v((function(){if(B){var e=ot(Re);Ee(e),nt({x:e})}}),[_e.width,B]);var st=function(){var e,t;null===(e=Ke.current)||void 0===e||e.delayHidden(),null===(t=Ve.current)||void 0===t||t.delayHidden()},ft=function(n,r,o,i,l,s,f,d){var h=e.useRef(),g=e.useState(null),m=u(g,2),p=m[0],M=m[1];return v((function(){if(p&&p.times<y){if(!n.current)return void M((function(e){return t({},e)}));s();var e=p.targetAlign,u=p.originAlign,a=p.index,c=p.offset,v=n.current.clientHeight,d=!1,h=e,g=null;if(v){for(var m=e||u,b=0,R=0,E=0,S=Math.min(r.length-1,a),w=0;w<=S;w+=1){var x=l(r[w]);R=b;var L=o.get(x);b=E=R+(void 0===L?i:L)}for(var T="top"===m?c:v-c,H=S;H>=0;H-=1){var z=l(r[H]),Y=o.get(z);if(void 0===Y){d=!0;break}if((T-=Y)<=0)break}switch(m){case"top":g=R-c;break;case"bottom":g=E-v+c;break;default:var k=n.current.scrollTop;R<k?h="top":E>k+v&&(h="bottom")}null!==g&&f(g),g!==p.lastTop&&(d=!0)}d&&M(t(t({},p),{},{times:p.times+1,targetAlign:h,lastTop:g}))}}),[p,n.current]),function(e){if(null!=e){if(c.cancel(h.current),"number"==typeof e)f(e);else if(e&&"object"===a(e)){var t,n=e.align;t="index"in e?e.index:r.findIndex((function(t){return l(t)===e.key}));var o=e.offset;M({times:0,index:t,offset:void 0===o?0:o,originAlign:n})}}else d()}}(fe,se,re,N,Z,(function(){return ne(!0)}),ze,st);e.useImperativeHandle(s,(function(){return{nativeElement:de.current,getScrollInfo:et,scrollTo:function(e){var t;(t=e)&&"object"===a(t)&&("left"in t||"top"in t)?(void 0!==e.left&&Ee(ot(e.left)),ft(e.top)):ft(e)}}})),v((function(){if(J){var e=se.slice(Pe,Xe+1);J(e,se)}}),[Pe,Xe,se]);var vt=function(t,n,r,o){var i=e.useMemo((function(){return[new Map,[]]}),[t,r.id,o]),a=u(i,2),c=a[0],l=a[1];return function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,u=c.get(e),a=c.get(i);if(void 0===u||void 0===a)for(var s=t.length,f=l.length;f<s;f+=1){var v,d=t[f],h=n(d);c.set(h,f);var g=null!==(v=r.get(h))&&void 0!==v?v:o;if(l[f]=(l[f-1]||0)+g,h===e&&(u=f),h===i&&(a=f),void 0!==u&&void 0!==a)break}return{top:l[u-1]||0,bottom:l[a]}}}(se,Z,re,N),dt=null==G?void 0:G({start:Pe,end:Xe,virtual:ae,offsetX:Re,offsetY:Oe,rtl:ce,getSize:vt}),ht=function(t,n,r,o,i,u,a,c){var l=c.getKey;return t.slice(n,r+1).map((function(t,r){var c=a(t,n+r,{style:{width:o},offsetX:i}),s=l(t);return e.createElement(p,{key:s,setRef:function(e){return u(t,e)}},c)}))}(se,Pe,Xe,B,Re,te,O,He),gt=null;D&&(gt=t(n({},I?"height":"maxHeight",D),k),ie&&(gt.overflowY="hidden",B&&(gt.overflowX="hidden"),ye&&(gt.pointerEvents="none")));var mt={};return ce&&(mt.dir="rtl"),e.createElement("div",o({ref:de,style:t(t({},P),{},{position:"relative"}),className:le},mt,U),e.createElement(r,{onResize:function(e){Be({width:e.offsetWidth,height:e.offsetHeight})}},e.createElement(V,{className:"".concat(x,"-holder"),style:gt,ref:fe,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==me&&ze(t),null==W||W(e),nt()},onMouseEnter:st},e.createElement(m,{prefixCls:x,height:Ie,offsetX:Re,offsetY:Oe,scrollWidth:B,onInnerResize:ne,ref:ve,innerProps:q,rtl:ce,extra:dt},ht))),ae&&Ie>D&&e.createElement(L,{ref:Ke,prefixCls:x,scrollOffset:me,scrollRange:Ie,rtl:ce,onScroll:rt,onStartMove:Le,onStopMove:Te,spinSize:Fe,containerSize:_e.height,style:null==Q?void 0:Q.verticalScrollBar,thumbStyle:null==Q?void 0:Q.verticalScrollBarThumb}),ae&&B>_e.width&&e.createElement(L,{ref:Ve,prefixCls:x,scrollOffset:Re,scrollRange:B,rtl:ce,onScroll:rt,onStartMove:Le,onStopMove:Te,spinSize:We,containerSize:_e.width,horizontal:!0,style:null==Q?void 0:Q.horizontalScrollBar,thumbStyle:null==Q?void 0:Q.horizontalScrollBarThumb}))}var N=e.forwardRef(D);N.displayName="List";export{N as L};
