import{b0 as e,r as l,aS as a,b1 as t,b2 as n,b3 as s,w as r,b4 as o,b5 as i,aY as u,b6 as c}from"./index-a09fe141.js";import{C as d}from"./index-d00d9c03.js";import{u as p}from"./index-b9825768.js";const b=e.createContext(null);var f=globalThis&&globalThis.__rest||function(e,l){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(a[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(t=Object.getOwnPropertySymbols(e);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]])}return a};const m=(e,u)=>{var c;const{prefixCls:m,className:v,rootClassName:g,children:y,indeterminate:C=!1,style:h,onMouseEnter:x,onMouseLeave:O,skipGroup:j=!1,disabled:E}=e,N=f(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:w,direction:k,checkbox:P}=l.useContext(a),$=l.useContext(b),{isFormItemInput:S}=l.useContext(t),V=l.useContext(n),M=null!==(c=(null==$?void 0:$.disabled)||E)&&void 0!==c?c:V,_=l.useRef(N.value);l.useEffect((()=>{null==$||$.registerValue(N.value)}),[]),l.useEffect((()=>{if(!j)return N.value!==_.current&&(null==$||$.cancelValue(_.current),null==$||$.registerValue(N.value),_.current=N.value),()=>null==$?void 0:$.cancelValue(N.value)}),[N.value]);const I=w("checkbox",m),T=s(I),[G,L,R]=p(I,T),q=Object.assign({},N);$&&!j&&(q.onChange=function(){N.onChange&&N.onChange.apply(N,arguments),$.toggleOption&&$.toggleOption({label:y,value:N.value})},q.name=$.name,q.checked=$.value.includes(N.value));const A=r(`${I}-wrapper`,{[`${I}-rtl`]:"rtl"===k,[`${I}-wrapper-checked`]:q.checked,[`${I}-wrapper-disabled`]:M,[`${I}-wrapper-in-form-item`]:S},null==P?void 0:P.className,v,g,R,T,L),B=r({[`${I}-indeterminate`]:C},o,L),F=C?"mixed":void 0;return G(l.createElement(i,{component:"Checkbox",disabled:M},l.createElement("label",{className:A,style:Object.assign(Object.assign({},null==P?void 0:P.style),h),onMouseEnter:x,onMouseLeave:O},l.createElement(d,Object.assign({"aria-checked":F},q,{prefixCls:I,className:B,disabled:M,ref:u})),void 0!==y&&l.createElement("span",null,y))))},v=l.forwardRef(m);var g=globalThis&&globalThis.__rest||function(e,l){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(a[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(t=Object.getOwnPropertySymbols(e);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]])}return a};const y=l.forwardRef(((e,t)=>{const{defaultValue:n,children:o,options:i=[],prefixCls:d,className:f,rootClassName:m,style:y,onChange:C}=e,h=g(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:x,direction:O}=l.useContext(a),[j,E]=l.useState(h.value||n||[]),[N,w]=l.useState([]);l.useEffect((()=>{"value"in h&&E(h.value||[])}),[h.value]);const k=l.useMemo((()=>i.map((e=>"string"==typeof e||"number"==typeof e?{label:e,value:e}:e))),[i]),P=x("checkbox",d),$=`${P}-group`,S=s(P),[V,M,_]=p(P,S),I=u(h,["value","disabled"]),T=i.length?k.map((e=>l.createElement(v,{prefixCls:P,key:e.value.toString(),disabled:"disabled"in e?e.disabled:h.disabled,value:e.value,checked:j.includes(e.value),onChange:e.onChange,className:`${$}-item`,style:e.style,title:e.title,id:e.id,required:e.required},e.label))):o,G={toggleOption:e=>{const l=j.indexOf(e.value),a=c(j);-1===l?a.push(e.value):a.splice(l,1),"value"in h||E(a),null==C||C(a.filter((e=>N.includes(e))).sort(((e,l)=>k.findIndex((l=>l.value===e))-k.findIndex((e=>e.value===l)))))},value:j,disabled:h.disabled,name:h.name,registerValue:e=>{w((l=>[].concat(c(l),[e])))},cancelValue:e=>{w((l=>l.filter((l=>l!==e))))}},L=r($,{[`${$}-rtl`]:"rtl"===O},f,m,_,S,M);return V(l.createElement("div",Object.assign({className:L,style:y},I,{ref:t}),l.createElement(b.Provider,{value:G},T)))})),C=v;C.Group=y,C.__ANT_CHECKBOX=!0;const h=C;export{h as C};
