import{r as e,cG as t,bK as n,aS as r,cH as o,aY as l,w as a,z as i,b6 as c,_ as s,cI as u,x as d,cJ as p,v as f,br as h,y as m,t as v,ck as b,E as g,F as x,I as C,bX as y,b3 as w,cK as S,b1 as I,bh as E,b2 as k,cL as N,bq as O,bU as j,as as L,cM as T,j as M,at as D,X as P}from"./index-a09fe141.js";import{F as V}from"./index-cbfb1e1e.js";import{M as H,I as A}from"./index-0f1b8ea1.js";import{R as K}from"./index-6fe50528.js";import{I as R}from"./index-74b431e6.js";import{S as W,u as F,a as _,B as $,b as U,c as z,D as q,m as B}from"./index-1bc1a1bb.js";import{d as G,c as X,T as Y,i as J,g as Q,S as Z}from"./iconUtil-d37a19c0.js";import{u as ee}from"./useIcons-3bc6d994.js";import{g as te}from"./index-b9825768.js";import"./row-ec866866.js";import"./index-d00d9c03.js";import"./EyeOutlined-4d65de98.js";import"./SearchOutlined-03807928.js";import"./List-76f4e9dc.js";const{Option:ne}=W;function re(e){return(null==e?void 0:e.type)&&(e.type.isSelectOption||e.type.isSelectOptGroup)}const oe=(t,i)=>{var c;const{prefixCls:s,className:u,popupClassName:d,dropdownClassName:p,children:f,dataSource:h}=t,m=n(f);let v;1===m.length&&e.isValidElement(m[0])&&!re(m[0])&&([v]=m);const b=v?()=>v:void 0;let g;g=m.length&&re(m[0])?f:h?h.map((t=>{if(e.isValidElement(t))return t;switch(typeof t){case"string":return e.createElement(ne,{key:t,value:t},t);case"object":{const{value:n}=t;return e.createElement(ne,{key:n,value:n},t.text)}default:return}})):[];const{getPrefixCls:x}=e.useContext(r),C=x("select",s),[y]=o("SelectLike",null===(c=t.dropdownStyle)||void 0===c?void 0:c.zIndex);return e.createElement(W,Object.assign({ref:i,suffixIcon:null},l(t,["dataSource","dropdownClassName"]),{prefixCls:C,popupClassName:d||p,dropdownStyle:Object.assign(Object.assign({},t.dropdownStyle),{zIndex:y}),className:a(`${C}-auto-complete`,u),mode:W.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:b}),g)},le=e.forwardRef(oe),ae=t(le);le.Option=ne,le._InternalPanelDoNotUseOrYouWillBeFired=ae;const ie=le;function ce(e){return!e||e.disabled||e.disableCheckbox||!1===e.checkable}function se(e){return null==e}var ue=function(){return null},de=["children","value"];function pe(t){return n(t).map((function(t){if(!e.isValidElement(t)||!t.type)return null;var n=t,r=n.key,o=n.props,l=o.children,a=o.value,c=s(o,de),u=i({key:r,value:a},c),d=pe(l);return d.length&&(u.children=d),u})).filter((function(e){return e}))}function fe(e){if(!e)return e;var t=i({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return u(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),t}}),t}function he(t){var n=e.useRef();n.current=t;var r=e.useCallback((function(){return n.current.apply(n,arguments)}),[]);return r}function me(t,n,r){return e.useMemo((function(){return t?r?function(e,t){var n=t.id,r=t.pId,o=t.rootPId,l={},a=[];return e.map((function(e){var t=i({},e),r=t[n];return l[r]=t,t.key=t.key||r,t})).forEach((function(e){var t=e[r],n=l[t];n&&(n.children=n.children||[],n.children.push(e)),(t===o||!n&&null===o)&&a.push(e)})),a}(t,i({id:"id",pId:"pId",rootPId:null},!0!==r?r:{})):t:pe(n)}),[n,r,t])}var ve=e.createContext(null),be=e.createContext(null),ge={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},xe=function(t,n){var r=F(),o=r.prefixCls,l=r.multiple,a=r.searchValue,i=r.toggleOpen,s=r.open,u=r.notFoundContent,d=e.useContext(be),v=d.virtual,b=d.listHeight,g=d.listItemHeight,x=d.listItemScrollOffset,C=d.treeData,y=d.fieldNames,w=d.onSelect,S=d.dropdownMatchSelectWidth,I=d.treeExpandAction,E=d.treeTitleRender,k=d.onPopupScroll,N=e.useContext(ve),O=N.checkable,j=N.checkedKeys,L=N.halfCheckedKeys,T=N.treeExpandedKeys,M=N.treeDefaultExpandAll,D=N.treeDefaultExpandedKeys,P=N.onTreeExpand,V=N.treeIcon,H=N.showTreeIcon,A=N.switcherIcon,K=N.treeLine,R=N.treeNodeFilterProp,W=N.loadData,_=N.treeLoadedKeys,$=N.treeMotion,U=N.onTreeLoad,z=N.keyEntities,q=e.useRef(),B=p((function(){return C}),[s,C],(function(e,t){return t[0]&&e[1]!==t[1]})),G=e.useState(null),X=f(G,2),J=X[0],Q=X[1],Z=z[J],ee=e.useMemo((function(){return O?{checked:j,halfChecked:L}:null}),[O,j,L]);e.useEffect((function(){var e;s&&!l&&j.length&&(null===(e=q.current)||void 0===e||e.scrollTo({key:j[0]}),Q(j[0]))}),[s]);var te=String(a).toLowerCase(),ne=e.useState(D),re=f(ne,2),oe=re[0],le=re[1],ae=e.useState(null),ie=f(ae,2),se=ie[0],ue=ie[1],de=e.useMemo((function(){return T?c(T):a?se:oe}),[oe,se,T,a]);e.useEffect((function(){a&&ue(function(e,t){var n=[];return function e(r){r.forEach((function(r){var o=r[t.children];o&&(n.push(r[t.value]),e(o))}))}(e),n}(C,y))}),[a]);var pe=function(e){e.preventDefault()},fe=function(e,t){var n=t.node;O&&ce(n)||(w(n.key,{selected:!j.includes(n.key)}),l||i(!1))};if(e.useImperativeHandle(n,(function(){var e;return{scrollTo:null===(e=q.current)||void 0===e?void 0:e.scrollTo,onKeyDown:function(e){var t;switch(e.which){case h.UP:case h.DOWN:case h.LEFT:case h.RIGHT:null===(t=q.current)||void 0===t||t.onKeyDown(e);break;case h.ENTER:if(Z){var n=(null==Z?void 0:Z.node)||{},r=n.selectable,o=n.value;!1!==r&&fe(0,{node:{key:J},selected:!j.includes(o)})}break;case h.ESC:i(!1)}},onKeyUp:function(){}}})),0===B.length)return e.createElement("div",{role:"listbox",className:"".concat(o,"-empty"),onMouseDown:pe},u);var he={fieldNames:y};return _&&(he.loadedKeys=_),de&&(he.expandedKeys=de),e.createElement("div",{onMouseDown:pe},Z&&s&&e.createElement("span",{style:ge,"aria-live":"assertive"},Z.node.value),e.createElement(Y,m({ref:q,focusable:!1,prefixCls:"".concat(o,"-tree"),treeData:B,height:b,itemHeight:g,itemScrollOffset:x,virtual:!1!==v&&!1!==S,multiple:l,icon:V,showIcon:H,switcherIcon:A,showLine:K,loadData:a?null:W,motion:$,activeKey:J,checkable:O,checkStrictly:!0,checkedKeys:ee,selectedKeys:O?[]:j,defaultExpandAll:M,titleRender:E},he,{onActiveChange:Q,onSelect:fe,onCheck:fe,onExpand:function(e){le(e),ue(e),P&&P(e)},onLoad:U,filterTreeNode:function(e){return!!te&&String(e[R]).toLowerCase().includes(te)},expandAction:I,onScroll:k})))},Ce=e.forwardRef(xe),ye="SHOW_ALL",we="SHOW_PARENT",Se="SHOW_CHILD";function Ie(e,t,n,r){var o=new Set(e);return t===Se?e.filter((function(e){var t=n[e];return!(t&&t.children&&t.children.some((function(e){var t=e.node;return o.has(t[r.value])}))&&t.children.every((function(e){var t=e.node;return ce(t)||o.has(t[r.value])})))})):t===we?e.filter((function(e){var t=n[e],r=t?t.parent:null;return!(r&&!ce(r.node)&&o.has(r.key))})):e}var Ee=["id","prefixCls","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","treeExpandAction","virtual","listHeight","listItemHeight","listItemScrollOffset","onDropdownVisibleChange","dropdownMatchSelectWidth","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion","treeTitleRender","onPopupScroll"];var ke=e.forwardRef((function(t,n){var r,o,l=t.id,a=t.prefixCls,p=void 0===a?"rc-tree-select":a,h=t.value,g=t.defaultValue,x=t.onChange,C=t.onSelect,y=t.onDeselect,w=t.searchValue,S=t.inputValue,I=t.onSearch,E=t.autoClearSearchValue,k=void 0===E||E,N=t.filterTreeNode,O=t.treeNodeFilterProp,j=void 0===O?"value":O,L=t.showCheckedStrategy,T=t.treeNodeLabelProp,M=t.multiple,D=t.treeCheckable,P=t.treeCheckStrictly,V=t.labelInValue,H=t.fieldNames,A=t.treeDataSimpleMode,K=t.treeData,R=t.children,W=t.loadData,F=t.treeLoadedKeys,U=t.onTreeLoad,z=t.treeDefaultExpandAll,q=t.treeExpandedKeys,B=t.treeDefaultExpandedKeys,Y=t.onTreeExpand,J=t.treeExpandAction,Q=t.virtual,Z=t.listHeight,ee=void 0===Z?200:Z,te=t.listItemHeight,ne=void 0===te?20:te,re=t.listItemScrollOffset,oe=void 0===re?0:re,le=t.onDropdownVisibleChange,ae=t.dropdownMatchSelectWidth,ie=void 0===ae||ae,ce=t.treeLine,de=t.treeIcon,pe=t.showTreeIcon,ge=t.switcherIcon,xe=t.treeMotion,we=t.treeTitleRender,ke=t.onPopupScroll,Ne=s(t,Ee),Oe=_(l),je=D&&!P,Le=D||P,Te=P||V,Me=Le||M,De=v(g,{value:h}),Pe=f(De,2),Ve=Pe[0],He=Pe[1],Ae=e.useMemo((function(){return D?L||Se:ye}),[L,D]),Ke=e.useMemo((function(){return function(e){var t=e||{},n=t.label,r=t.value||"value";return{_title:n?[n]:["title","label"],value:r,key:r,children:t.children||"children"}}(H)}),[JSON.stringify(H)]),Re=v("",{value:void 0!==w?w:S,postState:function(e){return e||""}}),We=f(Re,2),Fe=We[0],_e=We[1],$e=me(K,R,A),Ue=function(t,n){return e.useMemo((function(){return X(t,{fieldNames:n,initWrapper:function(e){return i(i({},e),{},{valueEntities:new Map})},processEntity:function(e,t){var r=e.node[n.value];t.valueEntities.set(r,e)}})}),[t,n])}($e,Ke),ze=Ue.keyEntities,qe=Ue.valueEntities,Be=e.useCallback((function(e){var t=[],n=[];return e.forEach((function(e){qe.has(e)?n.push(e):t.push(e)})),{missingRawValues:t,existRawValues:n}}),[qe]),Ge=function(t,n,r){var o=r.treeNodeFilterProp,l=r.filterTreeNode,a=r.fieldNames.children;return e.useMemo((function(){if(!n||!1===l)return t;var e;if("function"==typeof l)e=l;else{var r=n.toUpperCase();e=function(e,t){var n=t[o];return String(n).toUpperCase().includes(r)}}return function t(r){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.reduce((function(r,l){var c=l[a],s=o||e(n,fe(l)),u=t(c||[],s);return(s||u.length)&&r.push(i(i({},l),{},d({isLeaf:void 0},a,u))),r}),[])}(t)}),[t,n,a,o,l])}($e,Fe,{fieldNames:Ke,treeNodeFilterProp:j,filterTreeNode:N}),Xe=e.useCallback((function(e){if(e){if(T)return e[T];for(var t=Ke._title,n=0;n<t.length;n+=1){var r=e[t[n]];if(void 0!==r)return r}}}),[Ke,T]),Ye=e.useCallback((function(e){var t=function(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}(e);return t.map((function(e){return function(e){return!e||"object"!==b(e)}(e)?{value:e}:e}))}),[]),Je=e.useCallback((function(e){return Ye(e).map((function(e){var t,n,r=e.label,o=e.value,l=e.halfChecked,a=qe.get(o);if(a)r=we?we(a.node):null!==(n=r)&&void 0!==n?n:Xe(a.node),t=a.node.disabled;else if(void 0===r){r=Ye(Ve).find((function(e){return e.value===o})).label}return{label:r,value:o,halfChecked:l,disabled:t}}))}),[qe,Xe,Ye,Ve]),Qe=e.useMemo((function(){return Ye(Ve)}),[Ye,Ve]),Ze=e.useMemo((function(){var e=[],t=[];return Qe.forEach((function(n){n.halfChecked?t.push(n):e.push(n)})),[e,t]}),[Qe]),et=f(Ze,2),tt=et[0],nt=et[1],rt=e.useMemo((function(){return tt.map((function(e){return e.value}))}),[tt]),ot=function(t,n,r,o){return e.useMemo((function(){var e=t.map((function(e){return e.value})),l=n.map((function(e){return e.value})),a=e.filter((function(e){return!o[e]}));if(r){var i=G(e,!0,o);e=i.checkedKeys,l=i.halfCheckedKeys}return[Array.from(new Set([].concat(c(a),c(e)))),l]}),[t,n,r,o])}(tt,nt,je,ze),lt=f(ot,2),at=lt[0],it=lt[1],ct=e.useMemo((function(){var e=Ie(at,Ae,ze,Ke).map((function(e){var t,n;return null!==(t=null===(n=ze[e])||void 0===n||null===(n=n.node)||void 0===n?void 0:n[Ke.value])&&void 0!==t?t:e})).map((function(e){var t,n=tt.find((function(t){return t.value===e}));return V&&void 0!==n.label?t=n.label:!V&&we&&(t=we(n)),{value:e,label:t}})),t=Je(e),n=t[0];return!Me&&n&&se(n.value)&&se(n.label)?[]:t.map((function(e){var t;return i(i({},e),{},{label:null!==(t=e.label)&&void 0!==t?t:e.value})}))}),[Ke,Me,at,tt,Je,Ae,ze]),st=(r=ct,o=e.useRef({valueLabels:new Map}),e.useMemo((function(){var e=o.current.valueLabels,t=new Map,n=r.map((function(n){var r,o=n.value,l=null!==(r=n.label)&&void 0!==r?r:e.get(o);return t.set(o,l),i(i({},n),{},{label:l})}));return o.current.valueLabels=t,[n]}),[r])),ut=f(st,1)[0],dt=he((function(t,n,r){var o=Je(t);if(He(o),k&&_e(""),x){var l=t;if(je){var a=Ie(t,Ae,ze,Ke);l=a.map((function(e){var t=qe.get(e);return t?t.node[Ke.value]:e}))}var i=n||{triggerValue:void 0,selected:void 0},s=i.triggerValue,d=i.selected,p=l;if(P){var f=nt.filter((function(e){return!l.includes(e.value)}));p=[].concat(c(p),c(f))}var h=Je(p),m={preValue:tt,triggerValue:s},v=!0;(P||"selection"===r&&!d)&&(v=!1),function(t,n,r,o,l,a){var i=null,c=null;function s(){c||(c=[],function t(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.map((function(o,u){var d="".concat(l,"-").concat(u),p=o[a.value],f=r.includes(p),h=t(o[a.children]||[],d,f),m=e.createElement(ue,o,h.map((function(e){return e.node})));if(n===p&&(i=m),f){var v={pos:d,node:m,children:h};return s||c.push(v),v}return null})).filter((function(e){return e}))}(o),c.sort((function(e,t){var n=e.node.props.value,o=t.node.props.value;return r.indexOf(n)-r.indexOf(o)})))}Object.defineProperty(t,"triggerNode",{get:function(){return u(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),s(),i}}),Object.defineProperty(t,"allCheckedNodes",{get:function(){return u(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),s(),l?c:c.map((function(e){return e.node}))}})}(m,s,t,$e,v,Ke),Le?m.checked=d:m.selected=d;var b=Te?h:h.map((function(e){return e.value}));x(Me?b:b[0],Te?null:h.map((function(e){return e.label})),m)}})),pt=e.useCallback((function(e,t){var n,r=t.selected,o=t.source,l=ze[e],a=null==l?void 0:l.node,i=null!==(n=null==a?void 0:a[Ke.value])&&void 0!==n?n:e;if(Me){var s=r?[].concat(c(rt),[i]):at.filter((function(e){return e!==i}));if(je){var u,d=Be(s),p=d.missingRawValues,f=d.existRawValues.map((function(e){return qe.get(e).key}));if(r)u=G(f,!0,ze).checkedKeys;else u=G(f,{checked:!1,halfCheckedKeys:it},ze).checkedKeys;s=[].concat(c(p),c(u.map((function(e){return ze[e].node[Ke.value]}))))}dt(s,{selected:r,triggerValue:i},o||"option")}else dt([i],{selected:!0,triggerValue:i},"option");r||!Me?null==C||C(i,fe(a)):null==y||y(i,fe(a))}),[Be,qe,ze,Ke,Me,rt,dt,je,C,y,at,it]),ft=e.useCallback((function(e){if(le){var t={};Object.defineProperty(t,"documentClickClose",{get:function(){return u(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),le(e,t)}}),[le]),ht=he((function(e,t){var n=e.map((function(e){return e.value}));"clear"!==t.type?t.values.length&&pt(t.values[0].value,{selected:!1,source:"selection"}):dt(n,{},"selection")})),mt=e.useMemo((function(){return{virtual:Q,dropdownMatchSelectWidth:ie,listHeight:ee,listItemHeight:ne,listItemScrollOffset:oe,treeData:Ge,fieldNames:Ke,onSelect:pt,treeExpandAction:J,treeTitleRender:we,onPopupScroll:ke}}),[Q,ie,ee,ne,oe,Ge,Ke,pt,J,we,ke]),vt=e.useMemo((function(){return{checkable:Le,loadData:W,treeLoadedKeys:F,onTreeLoad:U,checkedKeys:at,halfCheckedKeys:it,treeDefaultExpandAll:z,treeExpandedKeys:q,treeDefaultExpandedKeys:B,onTreeExpand:Y,treeIcon:de,treeMotion:xe,showTreeIcon:pe,switcherIcon:ge,treeLine:ce,treeNodeFilterProp:j,keyEntities:ze}}),[Le,W,F,U,at,it,z,q,B,Y,de,xe,pe,ge,ce,j,ze]);return e.createElement(be.Provider,{value:mt},e.createElement(ve.Provider,{value:vt},e.createElement($,m({ref:n},Ne,{id:Oe,prefixCls:p,mode:Me?"multiple":void 0,displayValues:ut,onDisplayValuesChange:ht,searchValue:Fe,onSearch:function(e){_e(e),null==I||I(e)},OptionList:Ce,emptyOptions:!$e.length,onDropdownVisibleChange:ft,dropdownMatchSelectWidth:ie}))))}));ke.TreeNode=ue,ke.SHOW_ALL=ye,ke.SHOW_PARENT=we,ke.SHOW_CHILD=Se;const Ne=e=>{const{componentCls:t,treePrefixCls:n,colorBgElevated:r}=e,o=`.${n}`;return[{[`${t}-dropdown`]:[{padding:`${C(e.paddingXS)} ${C(e.calc(e.paddingXS).div(2).equal())}`},Q(n,x(e,{colorBgContainer:r})),{[o]:{borderRadius:0,[`${o}-list-holder-inner`]:{alignItems:"stretch",[`${o}-treenode`]:{[`${o}-node-content-wrapper`]:{flex:"auto"}}}}},te(`${n}-checkbox`,e),{"&-rtl":{direction:"rtl",[`${o}-switcher${o}-switcher_close`]:{[`${o}-switcher-icon svg`]:{transform:"rotate(90deg)"}}}}]}]};var Oe=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const je=(t,n)=>{var i;const{prefixCls:c,size:s,disabled:u,bordered:d=!0,className:p,rootClassName:f,treeCheckable:h,multiple:m,listHeight:v=256,listItemHeight:b=26,placement:C,notFoundContent:L,switcherIcon:T,treeLine:M,getPopupContainer:D,popupClassName:P,dropdownClassName:V,treeIcon:H=!1,transitionName:A,choiceTransitionName:K="",status:R,treeExpandAction:W,builtinPlacements:F,dropdownMatchSelectWidth:_,popupMatchSelectWidth:$,allowClear:G,variant:X,dropdownStyle:Y,tagRender:Q}=t,te=Oe(t,["prefixCls","size","disabled","bordered","className","rootClassName","treeCheckable","multiple","listHeight","listItemHeight","placement","notFoundContent","switcherIcon","treeLine","getPopupContainer","popupClassName","dropdownClassName","treeIcon","transitionName","choiceTransitionName","status","treeExpandAction","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","allowClear","variant","dropdownStyle","tagRender"]),{getPopupContainer:ne,getPrefixCls:re,renderEmpty:oe,direction:le,virtual:ae,popupMatchSelectWidth:ie,popupOverflow:ce}=e.useContext(r),se=re(),ue=re("select",c),de=re("select-tree",c),pe=re("tree-select",c),{compactSize:fe,compactItemClassnames:he}=y(ue,le),me=w(ue),ve=w(pe),[be,ge,xe]=U(ue,me),[Ce]=function(e,t,n){return g("TreeSelect",(e=>{const n=x(e,{treePrefixCls:t});return[Ne(n)]}),J)(e,n)}(pe,de,ve),[ye,we]=S("treeSelect",X,d),Se=a(P||V,`${pe}-dropdown`,{[`${pe}-dropdown-rtl`]:"rtl"===le},f,xe,me,ve,ge),Ie=!(!h&&!m),Ee=z(t.suffixIcon,t.showArrow),je=null!==(i=null!=$?$:_)&&void 0!==i?i:ie,{status:Le,hasFeedback:Te,isFormItemInput:Me,feedbackIcon:De}=e.useContext(I),Pe=j(Le,R),{suffixIcon:Ve,removeIcon:He,clearIcon:Ae}=ee(Object.assign(Object.assign({},te),{multiple:Ie,showSuffixIcon:Ee,hasFeedback:Te,feedbackIcon:De,prefixCls:ue,componentName:"TreeSelect"})),Ke=!0===G?{clearIcon:Ae}:G;let Re;Re=void 0!==L?L:(null==oe?void 0:oe("Select"))||e.createElement(q,{componentName:"Select"});const We=l(te,["suffixIcon","removeIcon","clearIcon","itemIcon","switcherIcon"]),Fe=e.useMemo((()=>void 0!==C?C:"rtl"===le?"bottomRight":"bottomLeft"),[C,le]),_e=E((e=>{var t;return null!==(t=null!=s?s:fe)&&void 0!==t?t:e})),$e=e.useContext(k),Ue=null!=u?u:$e,ze=a(!c&&pe,{[`${ue}-lg`]:"large"===_e,[`${ue}-sm`]:"small"===_e,[`${ue}-rtl`]:"rtl"===le,[`${ue}-${ye}`]:we,[`${ue}-in-form-item`]:Me},N(ue,Pe,Te),he,p,f,xe,me,ve,ge),[qe]=o("SelectLike",null==Y?void 0:Y.zIndex);return be(Ce(e.createElement(ke,Object.assign({virtual:ae,disabled:Ue},We,{dropdownMatchSelectWidth:je,builtinPlacements:B(F,ce),ref:n,prefixCls:ue,className:ze,listHeight:v,listItemHeight:b,treeCheckable:h?e.createElement("span",{className:`${ue}-tree-checkbox-inner`}):h,treeLine:!!M,suffixIcon:Ve,multiple:Ie,placement:Fe,removeIcon:He,allowClear:Ke,switcherIcon:t=>e.createElement(Z,{prefixCls:de,switcherIcon:T,treeNodeProps:t,showLine:M}),showTreeIcon:H,notFoundContent:Re,getPopupContainer:D||ne,treeMotion:null,dropdownClassName:Se,dropdownStyle:Object.assign(Object.assign({},Y),{zIndex:qe}),choiceTransitionName:O(se,"",K),transitionName:O(se,"slide-up",A),treeExpandAction:W,tagRender:Ie?Q:void 0}))))},Le=e.forwardRef(je),Te=t(Le);Le.TreeNode=ue,Le.SHOW_ALL=ye,Le.SHOW_PARENT=we,Le.SHOW_CHILD=Se,Le._InternalPanelDoNotUseOrYouWillBeFired=Te;const Me=Le;function De({title:t,show:n,formValue:r,onOk:o,onCancel:l}){const[a]=V.useForm(),i=L(),[c,s]=e.useState(T),u=e.useCallback(((e,t=i)=>{let n="";if(!t||!e)return n;for(let r=0;r<t.length&&(t[r].id===e?n=t[r].name:t[r].children&&(n=u(e,t[r].children)),!n);r+=1);return n}),[i]),d=e=>{s(T.filter((t=>t.value.includes(e.toLowerCase()))))};return e.useEffect((()=>{if(a.setFieldsValue({...r}),r.parentId){const e=u(r.parentId);d(e)}}),[r,a,u]),M.jsx(H,{title:t,open:n,onOk:o,onCancel:l,children:M.jsxs(V,{initialValues:r,form:a,labelCol:{span:4},wrapperCol:{span:18},layout:"horizontal",children:[M.jsx(V.Item,{label:"Type",name:"type",required:!0,children:M.jsxs(K.Group,{optionType:"button",buttonStyle:"solid",children:[M.jsx(K,{value:D.CATALOGUE,children:"CATALOGUE"}),M.jsx(K,{value:D.MENU,children:"MENU"})]})}),M.jsx(V.Item,{label:"Name",name:"name",required:!0,children:M.jsx(R,{})}),M.jsx(V.Item,{label:"Label",name:"label",required:!0,tooltip:"internationalization config",children:M.jsx(R,{})}),M.jsx(V.Item,{label:"Parent",name:"parentId",required:!0,children:M.jsx(Me,{fieldNames:{label:"name",value:"id",children:"children"},allowClear:!0,treeData:i,onChange:(e,t)=>{d(t[0])}})}),M.jsx(V.Item,{label:"Route",name:"route",required:!0,children:M.jsx(R,{})}),M.jsx(V.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.type!==t.type,children:({getFieldValue:e})=>e("type")===D.MENU?M.jsx(V.Item,{label:"Component",name:"component",required:e("type")===D.MENU,children:M.jsx(ie,{options:c,filterOption:(e,t)=>(t?.label||"").toLowerCase().includes(e.toLowerCase())})}):null}),M.jsx(V.Item,{label:"Icon",name:"icon",tooltip:"local icon should start with ic",children:M.jsx(R,{})}),M.jsx(V.Item,{label:"Hide",name:"hide",tooltip:"hide in menu",children:M.jsxs(K.Group,{optionType:"button",buttonStyle:"solid",children:[M.jsx(K,{value:!1,children:"Show"}),M.jsx(K,{value:!0,children:"Hide"})]})}),M.jsx(V.Item,{label:"Order",name:"order",children:M.jsx(A,{style:{width:"100%"}})}),M.jsx(V.Item,{label:"Status",name:"status",required:!0,children:M.jsxs(K.Group,{optionType:"button",buttonStyle:"solid",children:[M.jsx(K,{value:P.ENABLE,children:" Enable "}),M.jsx(K,{value:P.DISABLE,children:" Disable "})]})})]})})}export{De as default};
